#!/usr/bin/env bash

var=1
trap '{ echo $var && test $var -eq 10 && exit 1; var=$(expr $var + 1); }' INT

if [[ "$1" == "run" ]]; then
  cmd="make run"
elif [[ "$1" == "comp" ]]; then
  cmd="make comp"
else
  cmd="make test"
fi

while 1; clear && tmux clear-history; do $cmd; \
echo -en "\nPress Enter to continue"; read newline; \
clear && tmux clear-history; done;
